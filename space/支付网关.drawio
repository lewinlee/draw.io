<mxfile host="app.diagrams.net" modified="2020-04-19T09:58:58.672Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3756.400 QQBrowser/10.5.4039.400" etag="ltLxRe9j49-T420sOpPI" version="12.9.14" type="github">
  <diagram name="Page-1" id="822b0af5-4adb-64df-f703-e8dfc1f81529">
    <mxGraphModel dx="5321" dy="1131" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="2339" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="59b1bcbrKsCMYZeMCs7V-31" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1085" y="1420" width="1105" height="410" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-11" value="Consumer集群" style="rounded=0;whiteSpace=wrap;html=1;align=right;" vertex="1" parent="1">
          <mxGeometry x="1990" y="1470" width="180" height="300" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-12" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-10" target="wdB7McpbQnSKonyvfbZ4-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-25" value="Broker发现" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-12">
          <mxGeometry x="-0.2704" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-13" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-10" target="59b1bcbrKsCMYZeMCs7V-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-26" value="发送消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-13">
          <mxGeometry x="-0.4208" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-10" value="Producer集群" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1100" y="1470" width="190" height="300" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-15" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1990" y="1620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-27" value="接收消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-15">
          <mxGeometry x="-0.1849" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-3" value="RocketMQ集群" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1430" y="1600" width="450" height="140" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-52" value="业务线" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="670" y="40" width="730" height="130" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-31" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1770" y="555" width="470" height="80" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-1" value="redis（key:phone_xx_store_01）" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="2700" y="260" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-3" target="VvI8yXbkPYTi_8kJMqFg-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-3" value="会员业务" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;" parent="1" vertex="1">
          <mxGeometry x="720" y="70" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-5" target="VvI8yXbkPYTi_8kJMqFg-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-5" value="页游业务" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;" parent="1" vertex="1">
          <mxGeometry x="1000" y="70" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1040" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-7" value="直播业务" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;" parent="1" vertex="1">
          <mxGeometry x="1280" y="70" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-8" value="nginx集群+Keepalived+LVS" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="555" y="210" width="970" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-10" target="VvI8yXbkPYTi_8kJMqFg-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-10" value="nginx" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="750" y="220" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="810" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-12" value="nginx" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="930" y="220" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-14" target="VvI8yXbkPYTi_8kJMqFg-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-14" value="nginx" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1105" y="220" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-15" value="nginx" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1280" y="220" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-55" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;startArrow=none;startFill=0;fontColor=#000000;entryX=0.605;entryY=0.013;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VvI8yXbkPYTi_8kJMqFg-16" target="59b1bcbrKsCMYZeMCs7V-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-63" value="2.&amp;nbsp;Ribbon负载均衡转发请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-55">
          <mxGeometry x="-0.4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-16" value="zuul集群" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="130" y="450" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1270" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-18" value="nginx" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1280" y="220" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-21" value="zuul" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="320" y="460" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-32" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-22" target="wdB7McpbQnSKonyvfbZ4-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-49" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 2;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-22" target="wdB7McpbQnSKonyvfbZ4-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1500" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-53" value="支付结果" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-49" vertex="1" connectable="0">
          <mxGeometry x="-0.0667" y="17" relative="1" as="geometry">
            <mxPoint x="17" y="18" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;fontColor=#000000;" edge="1" parent="1" source="VvI8yXbkPYTi_8kJMqFg-22" target="VvI8yXbkPYTi_8kJMqFg-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="560" y="320" />
              <mxPoint x="275" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-66" value="6. 返回支付结果" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-65">
          <mxGeometry x="0.4168" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-22" value="支付网关" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="560" y="560" width="940" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-15" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-23" target="VvI8yXbkPYTi_8kJMqFg-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-23" value="支付网关微服务" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="660" y="570" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-16" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="810" y="680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-24" value="支付网关微服务" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="870" y="570" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-17" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-25" target="VvI8yXbkPYTi_8kJMqFg-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-25" value="支付网关微服务" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1120" y="570" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-31" target="VvI8yXbkPYTi_8kJMqFg-23" edge="1" treatAsSingle="0">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="705" y="570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-28" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-27" vertex="1" connectable="0">
          <mxGeometry x="-0.2667" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-29" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-31" target="VvI8yXbkPYTi_8kJMqFg-24" edge="1" treatAsSingle="0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-30" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-29" vertex="1" connectable="0">
          <mxGeometry x="-0.5299" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-31" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="620" y="380" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-32" value="Keepalived&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="645" y="390" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-33" value="HAproxy&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="645" y="440" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-38" target="VvI8yXbkPYTi_8kJMqFg-24" edge="1" treatAsSingle="0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-35" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-34" vertex="1" connectable="0">
          <mxGeometry x="-0.2889" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-36" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-38" target="VvI8yXbkPYTi_8kJMqFg-23" edge="1" treatAsSingle="0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-37" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-36" vertex="1" connectable="0">
          <mxGeometry x="-0.5547" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-38" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="830" y="380" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-39" value="Keepalived&amp;nbsp;备" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="855" y="390" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-40" value="HAproxy&amp;nbsp;备" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="855" y="440" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-41" value="zuul" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="210" y="460" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-42" value="&lt;font style=&quot;font-size: 16px&quot; color=&quot;#0000ff&quot;&gt;A机房&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="960" y="10" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-43" value="&lt;font style=&quot;font-size: 16px&quot; color=&quot;#0000ff&quot;&gt;B机房&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1080" y="10" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-46" target="VvI8yXbkPYTi_8kJMqFg-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="915" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-46" target="VvI8yXbkPYTi_8kJMqFg-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="705" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-46" value="VIP" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="780" y="330" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-47" target="VvI8yXbkPYTi_8kJMqFg-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-5" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-1" vertex="1" connectable="0">
          <mxGeometry x="-0.2889" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-2" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-47" target="VvI8yXbkPYTi_8kJMqFg-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-7" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-2" vertex="1" connectable="0">
          <mxGeometry x="-0.4874" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-47" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1080" y="380" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-48" value="Keepalived&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1105" y="390" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-49" value="HAproxy&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1105" y="440" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-3" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1375" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-6" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-3" vertex="1" connectable="0">
          <mxGeometry x="-0.3111" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-4" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-50" target="VvI8yXbkPYTi_8kJMqFg-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-8" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-4" vertex="1" connectable="0">
          <mxGeometry x="-0.4517" y="1" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-50" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1290" y="380" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-51" value="Keepalived&amp;nbsp;备" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1315" y="390" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-52" value="HAproxy&amp;nbsp;备" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1315" y="440" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-55" target="VvI8yXbkPYTi_8kJMqFg-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1375" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-55" target="VvI8yXbkPYTi_8kJMqFg-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1165" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-55" value="VIP" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1240" y="330" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-18" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-56" target="VvI8yXbkPYTi_8kJMqFg-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-56" value="支付网关微服务" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1330" y="570" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-57" value="MGR" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="560" y="1030" width="940" height="100" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-62" value="MyCat" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="560" y="850" width="940" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-19" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-63" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="705" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-20" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-63" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="915" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-63" value="MyCat&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="660" y="860" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-21" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-64" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="915" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-22" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-64" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="705" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-64" value="MyCat 从" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="870" y="860" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-23" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-65" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1275" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-65" value="MyCat 主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1120" y="860" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-24" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-66" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1275" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-66" value="MyCat&amp;nbsp;从" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1330" y="860" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-67" value="" style="endArrow=none;dashed=1;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="1340" as="sourcePoint" />
            <mxPoint x="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-68" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-72" target="VvI8yXbkPYTi_8kJMqFg-63" edge="1" treatAsSingle="0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-9" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-68" vertex="1" connectable="0">
          <mxGeometry x="-0.275" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-70" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-72" target="VvI8yXbkPYTi_8kJMqFg-64" edge="1" treatAsSingle="0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-71" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-70" vertex="1" connectable="0">
          <mxGeometry x="-0.335" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-72" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="620" y="730" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-73" value="Keepalived&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="645" y="740" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-74" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-77" target="VvI8yXbkPYTi_8kJMqFg-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-10" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-74" vertex="1" connectable="0">
          <mxGeometry x="-0.3438" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-75" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-77" target="VvI8yXbkPYTi_8kJMqFg-64" edge="1" treatAsSingle="0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-76" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-75" vertex="1" connectable="0">
          <mxGeometry x="-0.24" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-77" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="830" y="730" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-78" value="Keepalived&amp;nbsp;备" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="855" y="740" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-81" target="VvI8yXbkPYTi_8kJMqFg-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="915" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-81" target="VvI8yXbkPYTi_8kJMqFg-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="705" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-81" value="VIP" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="780" y="680" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-82" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-84" target="VvI8yXbkPYTi_8kJMqFg-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-11" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-82" vertex="1" connectable="0">
          <mxGeometry x="-0.325" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-83" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-84" target="VvI8yXbkPYTi_8kJMqFg-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-13" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-83" vertex="1" connectable="0">
          <mxGeometry x="-0.4812" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-84" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1080" y="730" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-85" value="Keepalived&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1105" y="740" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-86" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-88" target="VvI8yXbkPYTi_8kJMqFg-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-14" value="从" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-86" vertex="1" connectable="0">
          <mxGeometry x="-0.5113" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-87" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-88" target="VvI8yXbkPYTi_8kJMqFg-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-12" value="主" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VvI8yXbkPYTi_8kJMqFg-87" vertex="1" connectable="0">
          <mxGeometry x="-0.4" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-88" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1290" y="730" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-89" value="Keepalived&amp;nbsp;备" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1315" y="740" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-92" target="VvI8yXbkPYTi_8kJMqFg-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1375" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VvI8yXbkPYTi_8kJMqFg-92" target="VvI8yXbkPYTi_8kJMqFg-84" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1165" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VvI8yXbkPYTi_8kJMqFg-92" value="VIP" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1240" y="680" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-25" value="MySQL&amp;nbsp; Tips：&lt;br&gt;1. MySQL支持双写。&lt;br&gt;&lt;div&gt;&lt;span&gt;2.&amp;nbsp;MyCat 主通过负载均衡将请求均匀分发给多个MySQL&amp;nbsp;主。&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1015" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-26" value="MyCat&amp;nbsp; Tips：&lt;br&gt;1.&amp;nbsp;MyCat主、从都参加运行，将请求均匀分发给多主数据库" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="835" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-28" value="Redis Cluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1790" y="565" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-29" value="Redis Cluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="565" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-30" value="Redis Cluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2090" y="565" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-33" value="Redis&amp;nbsp; Tips：&lt;br&gt;1.&amp;nbsp;存储业务线appKey和appSign。&lt;br&gt;2.&amp;nbsp;存储配置信息&lt;br&gt;3.&amp;nbsp;自动续费--签约信息" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2270" y="545" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-35" value="" style="endArrow=none;dashed=1;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="1130" as="sourcePoint" />
            <mxPoint x="1540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-37" value="&lt;font color=&quot;#3333ff&quot; style=&quot;font-size: 16px&quot;&gt;基础功能&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1550" y="10" width="70" height="10" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-60" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-38" target="wdB7McpbQnSKonyvfbZ4-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-63" value="6" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-60" vertex="1" connectable="0">
          <mxGeometry x="-0.3231" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-61" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-38" target="wdB7McpbQnSKonyvfbZ4-39" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1893" y="1035" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-64" value="6" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-61" vertex="1" connectable="0">
          <mxGeometry x="0.5943" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-73" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-38" target="wdB7McpbQnSKonyvfbZ4-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-74" value="7" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-73" vertex="1" connectable="0">
          <mxGeometry x="-0.3226" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-38" value="雷点微服务" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1745" y="1015" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-58" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-39" target="wdB7McpbQnSKonyvfbZ4-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1790" y="970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-62" value="4" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-58" vertex="1" connectable="0">
          <mxGeometry x="-0.0154" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-67" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" target="wdB7McpbQnSKonyvfbZ4-42" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1683" y="952" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-70" value="4" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-67" vertex="1" connectable="0">
          <mxGeometry x="-0.3973" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-39" target="wdB7McpbQnSKonyvfbZ4-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-80" value="9" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-79" vertex="1" connectable="0">
          <mxGeometry x="-0.1826" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-39" value="RocketMQ集群" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1585" y="910" width="410" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-40" value="RocketMQ作用 &amp;nbsp;Tips：&lt;br&gt;* 当掉单后，重新推送支付成功消息给业务线&lt;br&gt;* 当支付流程完成后，推送支付结果给业务线，支付结果可能是支付成功、支付不成功（银行卡余额不足）&lt;br&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2080" y="645" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-44" value="1" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-42" target="wdB7McpbQnSKonyvfbZ4-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-68" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.117;entryY=1.1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-42" target="wdB7McpbQnSKonyvfbZ4-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-69" value="2" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-68" vertex="1" connectable="0">
          <mxGeometry x="0.41" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-71" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-42" target="wdB7McpbQnSKonyvfbZ4-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-72" value="5" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-71" vertex="1" connectable="0">
          <mxGeometry x="-0.3871" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-42" target="wdB7McpbQnSKonyvfbZ4-39" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1565" y="1035" />
              <mxPoint x="1565" y="820" />
              <mxPoint x="1790" y="820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-77" value="8.&amp;nbsp;可投递消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-75" vertex="1" connectable="0">
          <mxGeometry x="0.1382" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;dashPattern=1 2;" parent="1" source="wdB7McpbQnSKonyvfbZ4-42" target="wdB7McpbQnSKonyvfbZ4-78" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1585" y="1320" />
              <mxPoint x="2150" y="1320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-83" value="error1:创建订单失败" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-82" vertex="1" connectable="0">
          <mxGeometry x="0.0186" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-42" value="支付网关微服务" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="1585" y="1015" width="98" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-43" value="订单DB" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="1605" y="1120" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-46" value="RocketMQ分布式事务 &amp;nbsp;Tips：&lt;br&gt;1.&amp;nbsp;支付网关创建雷点订单&lt;br&gt;2.&amp;nbsp;发送消息给RocketMQ&lt;br&gt;3.&amp;nbsp;RocketMQ将此次消息标记“半消息”，表示事务进行到一半&lt;br&gt;4.&amp;nbsp;将消息发回给支付网关，表示已经标记完毕。&lt;br&gt;5. 支付网关调用雷点微服务充值接口&lt;br&gt;6.&amp;nbsp;雷点微服务完成充值业务&lt;br&gt;7.&amp;nbsp;雷点微服务返回消息给支付网关&lt;br&gt;8.&amp;nbsp;支付网关微服务收到雷点充值结果，并标记可投递消息，表示雷点充值成功&lt;br&gt;9.&amp;nbsp;MQ将消息推送给业务线，说明雷点充值成功" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2210" y="820" width="360" height="220" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-50" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="wdB7McpbQnSKonyvfbZ4-47" target="wdB7McpbQnSKonyvfbZ4-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1490" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-54" value="消息队列通知支付结果" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-50" vertex="1" connectable="0">
          <mxGeometry x="-0.5244" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-47" value="RocketMQ" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1580" y="670" width="470" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-55" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=1 2;" parent="1" source="wdB7McpbQnSKonyvfbZ4-39" target="wdB7McpbQnSKonyvfbZ4-39" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1585" y="850" />
              <mxPoint x="1688" y="850" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-57" value="3.半消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wdB7McpbQnSKonyvfbZ4-55" vertex="1" connectable="0">
          <mxGeometry x="-0.1712" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-59" value="雷点DB" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="1760" y="1120" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-78" value="业务线" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;align=center;" parent="1" vertex="1">
          <mxGeometry x="2110" y="890" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-81" value="RocketMQ分布式事务异常处理情况 &amp;nbsp;Tips：&lt;br&gt;error1.&amp;nbsp;如果支付网关异常状况导致创建订单失败，则直接通知业务线异常状况，和原网关业务一致&lt;br&gt;error2.&amp;nbsp;如果创建完订单后，支付网关调用RocketMQ，RocketMQ宕机，则启动RocketMQ高可用方案，保证消息能传入消息队列 &amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2210" y="1050" width="360" height="220" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-1" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="wdB7McpbQnSKonyvfbZ4-84" target="wdB7McpbQnSKonyvfbZ4-88">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-84" value="RocketMQ&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1535" y="1620" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-2" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="wdB7McpbQnSKonyvfbZ4-85" target="wdB7McpbQnSKonyvfbZ4-89">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-85" value="RocketMQ&amp;nbsp;主" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1535" y="1680" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-14" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="wdB7McpbQnSKonyvfbZ4-86" target="59b1bcbrKsCMYZeMCs7V-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-29" value="Broker发现" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-14">
          <mxGeometry x="0.2441" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-21" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="wdB7McpbQnSKonyvfbZ4-86" target="59b1bcbrKsCMYZeMCs7V-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-23" value="路由" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-21">
          <mxGeometry x="-0.4222" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-22" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="wdB7McpbQnSKonyvfbZ4-86" target="59b1bcbrKsCMYZeMCs7V-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-24" value="路由" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-22">
          <mxGeometry x="-0.4444" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-86" value="nameserver&amp;nbsp;集群&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1430" y="1440" width="450" height="70" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-88" value="RocketMQ&amp;nbsp;从" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1712.5" y="1620" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wdB7McpbQnSKonyvfbZ4-89" value="RocketMQ&amp;nbsp;从" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1712.5" y="1680" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iDwauWoH-mrjECuvpgRD-1" value="nameserver" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1535" y="1455" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iDwauWoH-mrjECuvpgRD-2" value="nameserver" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1710" y="1455" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iDwauWoH-mrjECuvpgRD-3" value="MySQL主" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="885" y="1040" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="iDwauWoH-mrjECuvpgRD-4" value="MySQL主" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="675" y="1040" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="iDwauWoH-mrjECuvpgRD-5" value="MySQL主" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="1245" y="1040" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-4" value="Producer" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1200" y="1490" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-5" value="Producer" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1200" y="1580" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-6" value="Producer" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1200" y="1670" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-7" value="Consumer" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="2000" y="1490" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-8" value="Consumer" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="2000" y="1580" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-9" value="Consumer" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="2000" y="1670" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-16" value="RocketMQ集群高可用 &amp;nbsp;Tips：&lt;br&gt;&lt;div&gt;1. NameServer之间相互独立，不交换信息，每个NameServer需要了解每个生产者、每个消费者、每个Broker三者状态&lt;/div&gt;&lt;div&gt;2. 新加入的Producer，通过上报自身信息，从NameServer获取各个BrokerMaster信息，才知道存储在哪个Broker的哪个Queue&lt;/div&gt;&lt;div&gt;3. 新加入的Consumer，通过上报自身信息，从NameServer获取各个BrokerMaster信息，才知道消费在哪个Broker的哪个Queue&lt;/div&gt;&lt;div&gt;4. 每个Producer、Broker、Consumer，都需要指定多个NameServer，比如一共3台NameServer，则配置3台NameServer地址和端口号&lt;/div&gt;&lt;span&gt;5. 每个BrokerMaster，数据都是一样的，因为是双写功能，只是同步复制模式还是异步复制模式，每个复制都通过NameServer&lt;/span&gt;&amp;nbsp;&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2210" y="1450" width="360" height="220" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-30" value="" style="endArrow=none;dashed=1;html=1;entryX=0.902;entryY=1.1;entryDx=0;entryDy=0;startArrow=classic;startFill=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryPerimeter=0;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-31" target="wdB7McpbQnSKonyvfbZ4-39">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1680" y="1410" as="sourcePoint" />
            <mxPoint x="1640" y="1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-33" value="&lt;div&gt;&lt;div&gt;Producer高可用配合方案&lt;/div&gt;&lt;ol&gt;&lt;li&gt;重试机制：做好重试，但是重试的Message key必须唯一。&lt;br&gt;&lt;/li&gt;&lt;li&gt;重试但不能无限次尝试，比如第一次1秒，第二次10秒，第三次1分钟，第四次5分钟，重试总次数不能太多，比如总次数20次后就停止了，然后发预警邮件通知运维或开发人员&lt;br&gt;&lt;/li&gt;&lt;li&gt;保存相关投递日志，比如关键字段，投递时间、投递状态、重试次数、请求体、响应体&lt;br&gt;&lt;/li&gt;&lt;li&gt;不采用oneway（无需等待响应）发送，使用同步或者异步方式发送&lt;br&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="870" y="1880" width="420" height="140" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-34" value="" style="endArrow=none;dashed=1;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-36">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1605" y="1800" as="sourcePoint" />
            <mxPoint x="1655" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-35" value="" style="endArrow=none;dashed=1;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1140" y="1820" as="sourcePoint" />
            <mxPoint x="1190" y="1770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-36" value="&lt;div&gt;Broker高可用配合方案&lt;/div&gt;&lt;ol&gt;&lt;li&gt;多主多从架构，需要多机房&lt;br&gt;&lt;/li&gt;&lt;li&gt;同步双写（而不是单写然后同步队列，避免同步时挂了）、异步刷盘 (同步刷盘则可靠性更高，但是性能差点，根据业务选择)&lt;br&gt;&lt;/li&gt;&lt;li&gt;机器断电重启：异步刷盘，消息丢失；同步刷盘消息不丢失&lt;br&gt;&lt;/li&gt;&lt;li&gt;硬件故障：可能存在丢失，看队列架构&lt;br&gt;&lt;/li&gt;&lt;li&gt;容灾：同城容灾、异地容灾、两地三中心容灾等&lt;br&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol&gt;&lt;/ol&gt;&lt;ol&gt;&lt;/ol&gt;&lt;ol&gt;&lt;/ol&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1427.5" y="1880" width="420" height="140" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-37" value="&lt;div&gt;Consumer高可用配合方案&lt;/div&gt;&lt;ol&gt;&lt;li&gt;消息队列一般都提供的ack机制，发送者为了保证消息肯定消费成功，只有消费者明确表示消费成功，队列才会认为消息消费成功，中途断电、抛出异常等都不会认为成功——即都会重新投递，每次在确保处理完这个消息之后，在代码里调用ack，告诉消息队列消费成功&lt;br&gt;&lt;/li&gt;&lt;li&gt;消费端务必做好幂等性处理（Redis处理幂等性，防止重复消费）&lt;br&gt;&lt;/li&gt;&lt;li&gt;消息消费务必保留日志，即消息的元数据和消息体&lt;br&gt;&lt;/li&gt;&lt;/ol&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1970" y="1880" width="420" height="140" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-38" value="" style="endArrow=none;dashed=1;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-37">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2120" y="1840" as="sourcePoint" />
            <mxPoint x="2080" y="1770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-39" value="&lt;font style=&quot;font-size: 20px&quot;&gt;RocketMQ分布式事务详细架构图&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#FF0000;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="2004.996370431161" y="829.9997926254513" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-40" value="" style="endArrow=none;dashed=1;html=1;entryX=0.902;entryY=1.1;entryDx=0;entryDy=0;startArrow=classic;startFill=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryPerimeter=0;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-31">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1505.18" y="1176" as="sourcePoint" />
            <mxPoint x="1822.5000000000002" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-42" value="&lt;span style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; font-size: 20px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; float: none ; display: inline&quot;&gt;RocketMQ集群高可用详细架构图&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#FF0000;" vertex="1" parent="1">
          <mxGeometry x="1080" y="1370" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-48" value="自动续费微服务" style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="20" y="560" width="420" height="150" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;startArrow=none;startFill=0;fontColor=#000000;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-49" target="VvI8yXbkPYTi_8kJMqFg-81">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="650" />
              <mxPoint x="810" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-68" value="3. 一次性查出满足自动续费的会员签约信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-67">
          <mxGeometry x="0.1246" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fontColor=#000000;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-49" target="59b1bcbrKsCMYZeMCs7V-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-73" value="4.&amp;nbsp;开启线程池" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-72">
          <mxGeometry x="-0.1846" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-49" value="查询签约Service" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="210" y="570" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-52" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startArrow=none;startFill=0;fontColor=#FF0000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-51" target="VvI8yXbkPYTi_8kJMqFg-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-62" value="&lt;font color=&quot;#000000&quot;&gt;1. 定时器调用请求&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#FF0000;" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-52">
          <mxGeometry x="-0.0968" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-51" value="SpringBoot自动续费定时器" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="-120" y="570" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fontColor=#000000;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-69" target="VvI8yXbkPYTi_8kJMqFg-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-71" value="5.&amp;nbsp;Ribbon调用支付网关，进行签约包月支付&lt;br&gt;因为支付网关旧项目不适合调用Feign" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-70">
          <mxGeometry x="0.0683" y="-2" relative="1" as="geometry">
            <mxPoint x="1" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;startArrow=none;startFill=0;fontColor=#000000;" edge="1" parent="1" source="59b1bcbrKsCMYZeMCs7V-69" target="VvI8yXbkPYTi_8kJMqFg-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-76" value="7.&amp;nbsp;更新签约信息，完成签约支付" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="59b1bcbrKsCMYZeMCs7V-75">
          <mxGeometry x="-0.271" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-69" value="签约处理（调用支付网关）" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="210" y="660" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-74" value="自动续费 &amp;nbsp;Tips：&lt;br&gt;1.&amp;nbsp;如果调用网关这步压力较大，则再拆分多个微服务，查询签约信息之后，通过feign调用和Ribbon轮询策略，将请求分发给每个签约处理微服务&lt;br&gt;2.&amp;nbsp;签约失败的可以再重试多2次，一共重试3次机会，重试失败则进行解约处理" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-110" y="710" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="59b1bcbrKsCMYZeMCs7V-78" value="Guava限流" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1420" y="560" width="80" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
